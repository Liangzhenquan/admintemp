(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[8],{104:function(e,t,n){"use strict";var a=n(66),r=n.n(a),c=n(67),o=n(129),l=(n(121),n(55)),u=function(e,t){switch(e.status){case 403:"check"===e.url.replace(t,"")?window.location.href="#/login":(l.a.error("\u6743\u9650\u8fc7\u671f\uff0c\u4e24\u79d2\u540e\u8df3\u8f6c\u767b\u5f55\u9875",2),setTimeout((function(){window.location.href="#/login"}),2e3));break;case 404:l.a.error("\u8bf7\u6c42\u8def\u5f84\u627e\u4e0d\u7740");break;default:l.a.error("\u7cfb\u7edf\u7e41\u5fd9")}},i=fetch;Object.defineProperty(window,"fetch",{configurable:!0,enumerable:!0,get:function(){return function(e,t){return i("".concat("http://localhost:7000/").concat(e),Object(o.a)({},t,{},{headers:Object(o.a)({"Content-Type":"application/json;charset=UTF-8",Accept:"application/json",authorization:localStorage.getItem("token")},t.headers)})).then(function(){var e=Object(c.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return!0===t.ok?u(t,"http://localhost:7000/"):"check"===t.url.replace("http://localhost:7000/","")&&(window.location.href="#/login"),e.abrupt("return",t.json());case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).then((function(e){return e})).catch((function(e){l.a.error("\u7cfb\u7edf\u7e41\u5fd9")}))}}});var s=function(e,t,n){var a=fetch(e,{method:"POST",headers:n,body:JSON.stringify(t)});return Promise.race([new Promise((function(e,t){setTimeout((function(){t(new Error("request timeout"))}),1e3)})),a])};n.d(t,"a",(function(){return s}))},229:function(e,t,n){"use strict";n.r(t);var a=n(66),r=n.n(a),c=n(67),o=n(17),l=n(18),u=n(23),i=n(19),s=n(24),m=n(69),f=(n(98),n(100)),h=n(0),p=n.n(h),b=(n(99),n(45)),E=n(76),d=n(103),v=(n(130),n(126)),j=n(9),O=v.a.SubMenu,g=function(e){return p.a.createElement(v.a.Item,{key:e.key},p.a.createElement(j.b,{to:e.key},p.a.createElement(b.a,{type:e.icon}),e.title))};var y=function(e){var t=e.menus,n=e.location,a=Object(h.useState)(null),r=Object(d.a)(a,2),c=r[0],o=r[1],l=Object(h.useState)(null),u=Object(d.a)(l,2),i=(u[0],u[1]);return Object(h.useEffect)((function(){o([n.pathname]),i(["/item"])}),[n.pathname]),p.a.createElement(v.a,{theme:"dark",selectedKeys:c,mode:"inline"},t.map((function(e,t){return e.sub?function(e){return p.a.createElement(O,{key:e.key,title:p.a.createElement("span",null,p.a.createElement(b.a,{type:e.icon}),p.a.createElement("span",null,e.title))},e.sub.map((function(e,t){return g(e)})))}(e):g(e)})))};function k(){var e=Object(m.a)(["\n  font-size: 1rem;\n  color: #fff;\n"]);return k=function(){return e},e}function w(){var e=Object(m.a)(["\n  text-align: center;\n"]);return w=function(){return e},e}var S=f.a.Sider,x=E.a.div(w()),z=Object(E.a)(b.a)(k());var I=function(e){var t=e.menus,n=e.location;return p.a.createElement(S,null,p.a.createElement(x,null,p.a.createElement("a",{href:"https://github.com/Liangzhenquan",rel:"noopener noreferrer",target:"_blank"},p.a.createElement(z,{type:"github"}))),p.a.createElement(y,{menus:t,location:n}))},P=n(10),C=n(104),T=(n(211),n(219)),q=(n(213),n(217)),J=(n(215),n(221));function A(){var e=Object(m.a)(["\n  margin-left: 0.4rem;\n"]);return A=function(){return e},e}function D(){var e=Object(m.a)(["\n  float: right;\n  display: flex;\n  align-items: center;\n"]);return D=function(){return e},e}function L(){var e=Object(m.a)(["\n  color: #000;\n"]);return L=function(){return e},e}function M(){var e=Object(m.a)(["\n  display: flow-root;\n  zoom: 1;\n"]);return M=function(){return e},e}var F=f.a.Header,G=Object(E.a)(F)(M()),H=E.a.a(L()),K=E.a.div(D()),N=E.a.div(A());function U(){var e=Object(h.useState)("https://github.com/Liangzhenquan/admintemp.git"),t=Object(d.a)(e,2),n=t[0],a=(t[1],p.a.createElement(v.a,null,p.a.createElement(v.a.ItemGroup,{title:"\u7528\u6237\u8bbe\u7f6e"},p.a.createElement(v.a.Divider,null),p.a.createElement(v.a.Item,null,p.a.createElement(b.a,{type:"edit"}),"\u4e2a\u4eba\u8bbe\u7f6e"),p.a.createElement(v.a.Item,null,p.a.createElement(b.a,{theme:"filled",type:"setting"}),"\u7cfb\u7edf\u8bbe\u7f6e")),p.a.createElement(v.a.Divider,null),p.a.createElement(v.a.Item,{onClick:function(){window.location.href="#/login",localStorage.clear()}},p.a.createElement("span",null,p.a.createElement(b.a,{type:"logout"})," \u9000\u51fa\u767b\u5f55"))));return p.a.createElement(G,null,p.a.createElement(K,null,p.a.createElement(J.a,{dot:!0,offset:[-2,0]},p.a.createElement(H,{href:n},p.a.createElement(b.a,{type:"bell"}))),p.a.createElement(N,null,p.a.createElement(T.a,{overlay:a,overlayStyle:{width:"150px"}},p.a.createElement(q.a,{icon:"user",size:30,style:{cursor:"pointer"}})))))}function W(){var e=Object(m.a)(["\n  min-height: calc(100% - 0.4rem);\n  margin: 0.2rem;\n  border-radius: 2px;\n  background-color: #fff;\n"]);return W=function(){return e},e}var _=f.a.Content,B=E.a.div(W()),Q=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,l=new Array(a),s=0;s<a;s++)l[s]=arguments[s];return(n=Object(u.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(l)))).hasPermission=Object(c.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(C.a)("check");case 1:case"end":return e.stop()}}),e)}))),n}return Object(s.a)(t,e),Object(l.a)(t,[{key:"componentWillMount",value:function(){this.hasPermission()}},{key:"render",value:function(){var e=this.props,t=e.routes,n=e.location;return p.a.createElement(f.a,null,p.a.createElement(I,{menus:P.c,location:n}),p.a.createElement(f.a,null,p.a.createElement(U,null),p.a.createElement(_,null,p.a.createElement(B,null,p.a.createElement(P.b,{routes:t})))))}}]),t}(h.Component);t.default=Q},55:function(e,t,n){"use strict";n(106);var a=n(128);a.a.config({top:10,duration:2,maxCount:3}),t.a=a.a}}]);
//# sourceMappingURL=8.068b5b91.chunk.js.map